---
alwaysApply: true
---

# TDD é–‹ç™ºãƒ«ãƒ¼ãƒ«ï¼ˆt-wada æ¨å¥¨æ‰‹æ³•ï¼‰

## ğŸ“ TDDï¼ˆTest-Driven Developmentï¼‰ã®åŸºæœ¬åŸå‰‡

### Red-Green-Refactor ã‚µã‚¤ã‚¯ãƒ«

TDD ã®æ ¸å¿ƒã¯ **Red-Green-Refactor** ã® 3 æ®µéšã‚µã‚¤ã‚¯ãƒ«ã§ã™ï¼š

1. **ğŸ”´ Red**: å¤±æ•—ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’æ›¸ã

   - ã¾ã å­˜åœ¨ã—ãªã„æ©Ÿèƒ½ã«å¯¾ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’æ›¸ã
   - ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã™ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹
   - å¤±æ•—ç†ç”±ãŒæœŸå¾…é€šã‚Šã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹

2. **ğŸŸ¢ Green**: ãƒ†ã‚¹ãƒˆã‚’é€šã™ãŸã‚ã®æœ€å°é™ã®ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã

   - ã¨ã«ã‹ããƒ†ã‚¹ãƒˆã‚’é€šã™ã“ã¨ã ã‘ã‚’è€ƒãˆã‚‹
   - æœ€å°é™ã®å®Ÿè£…ã§æº€è¶³ã™ã‚‹
   - ç¾ã—ã„ã‚³ãƒ¼ãƒ‰ã¯å¾Œã§è€ƒãˆã‚‹

3. **ğŸ”µ Refactor**: ã‚³ãƒ¼ãƒ‰ã‚’æ”¹å–„ã™ã‚‹
   - ãƒ†ã‚¹ãƒˆãŒé€šã£ãŸçŠ¶æ…‹ã§ã‚³ãƒ¼ãƒ‰ã‚’æ”¹å–„
   - é‡è¤‡ã‚’æ’é™¤ã—ã€æ„å›³ã‚’æ˜ç¢ºã«ã™ã‚‹
   - ãƒ†ã‚¹ãƒˆãŒé€šã‚Šç¶šã‘ã‚‹ã“ã¨ã‚’ç¢ºèªã—ãªãŒã‚‰é€²ã‚ã‚‹

## ğŸ¯ å®Ÿè£…æˆ¦ç•¥

### ä»®å®Ÿè£… â†’ ä¸‰è§’æ¸¬é‡ â†’ æ˜ç™½ãªå®Ÿè£…

1. **ä»®å®Ÿè£…ï¼ˆFake Implementationï¼‰**

   ```typescript
   // æœ€åˆã®ãƒ†ã‚¹ãƒˆ
   it("should return 1 when input is 1", () => {
     expect(identity(1)).toBe(1);
   });

   // ä»®å®Ÿè£…
   function identity(x: number): number {
     return 1; // ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰
   }
   ```

2. **ä¸‰è§’æ¸¬é‡ï¼ˆTriangulationï¼‰**

   ```typescript
   // 2ã¤ç›®ã®ãƒ†ã‚¹ãƒˆè¿½åŠ 
   it("should return 2 when input is 2", () => {
     expect(identity(2)).toBe(2);
   });

   // ä¸€èˆ¬åŒ–
   function identity(x: number): number {
     return x; // ä¸€èˆ¬çš„ãªå®Ÿè£…
   }
   ```

3. **æ˜ç™½ãªå®Ÿè£…ï¼ˆObvious Implementationï¼‰**
   - å®Ÿè£…æ–¹æ³•ãŒæ˜ã‚‰ã‹ãªå ´åˆã¯ç›´æ¥å®Ÿè£…
   - ãŸã ã—ã€ç¢ºä¿¡ãŒæŒã¦ãªã„å ´åˆã¯ä»®å®Ÿè£…ã‹ã‚‰é–‹å§‹

### å°ã•ãªã‚¹ãƒ†ãƒƒãƒ—ã§ã®é€²è¡Œ

- **1 ã¤ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ãšã¤**å®Ÿè£…ã™ã‚‹
- **1 ã¤ã® assert æ–‡**ã‹ã‚‰å§‹ã‚ã‚‹
- **æœ€å°é™ã®å¤‰æ›´**ã§ãƒ†ã‚¹ãƒˆã‚’é€šã™
- **å¤§ããªæ©Ÿèƒ½ã‚’å°ã•ãªå˜ä½**ã«åˆ†å‰²ã™ã‚‹

## ğŸ§ª ãƒ†ã‚¹ãƒˆä½œæˆã®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

### ãƒ†ã‚¹ãƒˆã®æ§‹é€ ï¼ˆAAA ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰

```typescript
describe("AuthService", () => {
  it("should authenticate user with valid credentials", () => {
    // Arrangeï¼ˆæº–å‚™ï¼‰
    const service = new AuthService();
    const credentials = { username: "test", password: "password" };

    // Actï¼ˆå®Ÿè¡Œï¼‰
    const result = service.authenticate(credentials);

    // Assertï¼ˆæ¤œè¨¼ï¼‰
    expect(result.isAuthenticated).toBe(true);
  });
});
```

### ãƒ†ã‚¹ãƒˆåã®ä»˜ã‘æ–¹

- **should + æœŸå¾…ã™ã‚‹å‹•ä½œ**ã®å½¢å¼
- **å…·ä½“çš„ã§æ˜ç¢º**ãªè¡¨ç¾
- **ãƒ“ã‚¸ãƒã‚¹çš„ãªæ„å‘³**ã‚’å«ã‚ã‚‹

```typescript
// âŒ æ‚ªã„ä¾‹
it("test login", () => {});

// âœ… è‰¯ã„ä¾‹
it("should return authenticated user when valid credentials are provided", () => {});
it("should throw error when password is incorrect", () => {});
```

### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®å„ªå…ˆé †ä½

1. **æ­£å¸¸ç³»ï¼ˆHappy Pathï¼‰**ã‹ã‚‰å§‹ã‚ã‚‹
2. **å¢ƒç•Œå€¤**ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹
3. **ç•°å¸¸ç³»**ã‚’è¿½åŠ ã™ã‚‹
4. **ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹**ã‚’ç¶²ç¾…ã™ã‚‹

## ğŸ—ï¸ Angular + TypeScript ã§ã® TDD å®Ÿè·µ

### 1. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã® TDD

```typescript
// 1. Red: å¤±æ•—ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’æ›¸ã
describe("ChatComponent", () => {
  it("should render message input field", () => {
    const fixture = TestBed.createComponent(ChatComponent);
    const compiled = fixture.nativeElement;

    expect(compiled.querySelector('input[type="text"]')).toBeTruthy();
  });
});

// 2. Green: æœ€å°é™ã®å®Ÿè£…
@Component({
  template: `<input type="text" />`,
})
export class ChatComponent {}

// 3. Refactor: æ”¹å–„
@Component({
  template: `
    <input
      type="text"
      [value]="message()"
      (input)="updateMessage($event)"
      placeholder="ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…¥åŠ›..."
    />
  `,
})
export class ChatComponent {
  message = signal("");

  updateMessage(event: Event) {
    const target = event.target as HTMLInputElement;
    this.message.set(target.value);
  }
}
```

### 2. ã‚µãƒ¼ãƒ“ã‚¹ã® TDD

```typescript
// 1. Red: å¤±æ•—ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’æ›¸ã
describe("AuthService", () => {
  it("should return profile list from AWS CLI config", async () => {
    const service = new AuthService();

    const profiles = await service.getProfiles();

    expect(profiles).toBeInstanceOf(Array);
    expect(profiles.length).toBeGreaterThan(0);
  });
});

// 2. Green: æœ€å°é™ã®å®Ÿè£…
@Injectable({ providedIn: "root" })
export class AuthService {
  async getProfiles(): Promise<AwsProfile[]> {
    return []; // ä»®å®Ÿè£…
  }
}

// 3. Refactor: å®Ÿéš›ã®å®Ÿè£…
@Injectable({ providedIn: "root" })
export class AuthService {
  async getProfiles(): Promise<AwsProfile[]> {
    return await invoke("get_aws_profiles");
  }
}
```

## ğŸ”§ Tauri ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆRustï¼‰ã§ã® TDD

### 1. é–¢æ•°ã® TDD

```rust
// 1. Red: å¤±æ•—ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’æ›¸ã
#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn should_parse_aws_config_file() {
        let config_content = "[profile test]\nregion = us-east-1";

        let profiles = parse_aws_config(config_content).unwrap();

        assert_eq!(profiles.len(), 1);
        assert_eq!(profiles[0].name, "test");
        assert_eq!(profiles[0].region, "us-east-1");
    }
}

// 2. Green: æœ€å°é™ã®å®Ÿè£…
pub fn parse_aws_config(content: &str) -> Result<Vec<AwsProfile>, Error> {
    Ok(vec![AwsProfile {
        name: "test".to_string(),
        region: "us-east-1".to_string(),
    }])
}

// 3. Refactor: å®Ÿéš›ã®ãƒ‘ãƒ¼ã‚µãƒ¼å®Ÿè£…
pub fn parse_aws_config(content: &str) -> Result<Vec<AwsProfile>, Error> {
    // å®Ÿéš›ã®INIãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ãƒ¼ã‚µãƒ¼å®Ÿè£…
}
```

## ğŸ“‹ TDD å®Ÿè·µãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### é–‹ç™ºå‰ã®æº–å‚™

- [ ] **ãƒ†ã‚¹ãƒˆç’°å¢ƒ**ãŒæ•´ã£ã¦ã„ã‚‹
- [ ] **ãƒ†ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼**ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹
- [ ] **ãƒ¢ãƒƒã‚¯ãƒ©ã‚¤ãƒ–ãƒ©ãƒª**ãŒåˆ©ç”¨å¯èƒ½

### Red ãƒ•ã‚§ãƒ¼ã‚º

- [ ] **å¤±æ•—ã™ã‚‹ãƒ†ã‚¹ãƒˆ**ã‚’æ›¸ã„ãŸ
- [ ] **æœŸå¾…ã•ã‚Œã‚‹å¤±æ•—ç†ç”±**ã‚’ç¢ºèªã—ãŸ
- [ ] **ãƒ†ã‚¹ãƒˆå**ãŒæ˜ç¢ºã§åˆ†ã‹ã‚Šã‚„ã™ã„
- [ ] **1 ã¤ã®ã‚±ãƒ¼ã‚¹**ã«é›†ä¸­ã—ã¦ã„ã‚‹

### Green ãƒ•ã‚§ãƒ¼ã‚º

- [ ] **æœ€å°é™ã®å®Ÿè£…**ã§ãƒ†ã‚¹ãƒˆã‚’é€šã—ãŸ
- [ ] **ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰**ã‚„ä»®å®Ÿè£…ã‚’ä½¿ã£ãŸ
- [ ] **ãƒ†ã‚¹ãƒˆãŒé€šã‚‹**ã“ã¨ã‚’ç¢ºèªã—ãŸ
- [ ] **ä»–ã®ãƒ†ã‚¹ãƒˆãŒå£Šã‚Œã¦ã„ãªã„**

### Refactor ãƒ•ã‚§ãƒ¼ã‚º

- [ ] **é‡è¤‡ã‚³ãƒ¼ãƒ‰**ã‚’æ’é™¤ã—ãŸ
- [ ] **æ„å›³ãŒæ˜ç¢º**ãªã‚³ãƒ¼ãƒ‰ã«ã—ãŸ
- [ ] **ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆ**ãŒé€šã‚‹
- [ ] **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**ã‚’è€ƒæ…®ã—ãŸ

## ğŸš« TDD ã§ã‚„ã£ã¦ã¯ã„ã‘ãªã„ã“ã¨

### Red ãƒ•ã‚§ãƒ¼ã‚ºã§ã®ç¦æ­¢äº‹é …

- âŒ è¤‡æ•°ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’ä¸€åº¦ã«æ›¸ã
- âŒ å®Ÿè£…ã‚³ãƒ¼ãƒ‰ã‚’å…ˆã«æ›¸ã
- âŒ æ›–æ˜§ãªãƒ†ã‚¹ãƒˆåã‚’ä»˜ã‘ã‚‹

### Green ãƒ•ã‚§ãƒ¼ã‚ºã§ã®ç¦æ­¢äº‹é …

- âŒ å®Œç’§ãªã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã“ã†ã¨ã™ã‚‹
- âŒ ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã‚’åŒæ™‚ã«è¡Œã†
- âŒ å°†æ¥ã®æ©Ÿèƒ½ã‚’å…ˆå–ã‚Šã—ã¦å®Ÿè£…ã™ã‚‹

### Refactor ãƒ•ã‚§ãƒ¼ã‚ºã§ã®ç¦æ­¢äº‹é …

- âŒ ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã—ã¦ã„ã‚‹çŠ¶æ…‹ã§ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
- âŒ æ©Ÿèƒ½è¿½åŠ ã¨ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã‚’åŒæ™‚ã«è¡Œã†
- âŒ ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã‚’æ€ ã‚‹

## ğŸ¯ å“è³ªã®é«˜ã„ãƒ†ã‚¹ãƒˆã®ç‰¹å¾´

### FIRST åŸå‰‡

- **F**ast: é«˜é€Ÿã«å®Ÿè¡Œã•ã‚Œã‚‹
- **I**ndependent: ç‹¬ç«‹ã—ã¦ã„ã‚‹ï¼ˆä»–ã®ãƒ†ã‚¹ãƒˆã«ä¾å­˜ã—ãªã„ï¼‰
- **R**epeatable: ç¹°ã‚Šè¿”ã—å®Ÿè¡Œå¯èƒ½
- **S**elf-validating: è‡ªå·±å®Œçµçš„ã«æ¤œè¨¼
- **T**imely: ã‚¿ã‚¤ãƒ ãƒªãƒ¼ã«æ›¸ã‹ã‚Œã‚‹ï¼ˆå®Ÿè£…å‰ï¼‰

### ãƒ†ã‚¹ãƒˆã®å¯èª­æ€§

```typescript
// âŒ æ‚ªã„ä¾‹
it("test1", () => {
  const x = new AuthService();
  const y = x.auth({ u: "test", p: "pass" });
  expect(y.ok).toBe(true);
});

// âœ… è‰¯ã„ä¾‹
it("should authenticate user when valid credentials provided", () => {
  // Arrange
  const authService = new AuthService();
  const validCredentials = {
    username: "testuser",
    password: "validpassword",
  };

  // Act
  const result = authService.authenticate(validCredentials);

  // Assert
  expect(result.isAuthenticated).toBe(true);
  expect(result.user.username).toBe("testuser");
});
```

## ğŸ“š å‚è€ƒè³‡æ–™

- [ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™º](https://www.ohmsha.co.jp/book/9784274050886/) - Kent Beck è‘—
- [Growing Object-Oriented Software, Guided by Tests](http://www.growing-object-oriented-software.com/)
- [å’Œç”°å“äººã•ã‚“ã® TDD å‹•ç”»ãƒ»è¨˜äº‹](https://t-wada.hatenablog.jp/)

---

**Remember**: TDD ã¯å˜ãªã‚‹ãƒ†ã‚¹ãƒˆæ‰‹æ³•ã§ã¯ãªãã€**è¨­è¨ˆæ‰‹æ³•**ã§ã™ã€‚å°ã•ãªã‚¹ãƒ†ãƒƒãƒ—ã§é€²ã¿ã€å¸¸ã«ãƒ†ã‚¹ãƒˆãŒé€šã‚‹çŠ¶æ…‹ã‚’ç¶­æŒã™ã‚‹ã“ã¨ã§ã€å®‰å…¨ã§ç¢ºå®Ÿãªé–‹ç™ºãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚
# TDD é–‹ç™ºãƒ«ãƒ¼ãƒ«ï¼ˆt-wada æ¨å¥¨æ‰‹æ³•ï¼‰

## ğŸ“ TDDï¼ˆTest-Driven Developmentï¼‰ã®åŸºæœ¬åŸå‰‡

### Red-Green-Refactor ã‚µã‚¤ã‚¯ãƒ«

TDD ã®æ ¸å¿ƒã¯ **Red-Green-Refactor** ã® 3 æ®µéšã‚µã‚¤ã‚¯ãƒ«ã§ã™ï¼š

1. **ğŸ”´ Red**: å¤±æ•—ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’æ›¸ã

   - ã¾ã å­˜åœ¨ã—ãªã„æ©Ÿèƒ½ã«å¯¾ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’æ›¸ã
   - ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã™ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹
   - å¤±æ•—ç†ç”±ãŒæœŸå¾…é€šã‚Šã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹

2. **ğŸŸ¢ Green**: ãƒ†ã‚¹ãƒˆã‚’é€šã™ãŸã‚ã®æœ€å°é™ã®ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã

   - ã¨ã«ã‹ããƒ†ã‚¹ãƒˆã‚’é€šã™ã“ã¨ã ã‘ã‚’è€ƒãˆã‚‹
   - æœ€å°é™ã®å®Ÿè£…ã§æº€è¶³ã™ã‚‹
   - ç¾ã—ã„ã‚³ãƒ¼ãƒ‰ã¯å¾Œã§è€ƒãˆã‚‹

3. **ğŸ”µ Refactor**: ã‚³ãƒ¼ãƒ‰ã‚’æ”¹å–„ã™ã‚‹
   - ãƒ†ã‚¹ãƒˆãŒé€šã£ãŸçŠ¶æ…‹ã§ã‚³ãƒ¼ãƒ‰ã‚’æ”¹å–„
   - é‡è¤‡ã‚’æ’é™¤ã—ã€æ„å›³ã‚’æ˜ç¢ºã«ã™ã‚‹
   - ãƒ†ã‚¹ãƒˆãŒé€šã‚Šç¶šã‘ã‚‹ã“ã¨ã‚’ç¢ºèªã—ãªãŒã‚‰é€²ã‚ã‚‹

## ğŸ¯ å®Ÿè£…æˆ¦ç•¥

### ä»®å®Ÿè£… â†’ ä¸‰è§’æ¸¬é‡ â†’ æ˜ç™½ãªå®Ÿè£…

1. **ä»®å®Ÿè£…ï¼ˆFake Implementationï¼‰**

   ```typescript
   // æœ€åˆã®ãƒ†ã‚¹ãƒˆ
   it("should return 1 when input is 1", () => {
     expect(identity(1)).toBe(1);
   });

   // ä»®å®Ÿè£…
   function identity(x: number): number {
     return 1; // ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰
   }
   ```

2. **ä¸‰è§’æ¸¬é‡ï¼ˆTriangulationï¼‰**

   ```typescript
   // 2ã¤ç›®ã®ãƒ†ã‚¹ãƒˆè¿½åŠ 
   it("should return 2 when input is 2", () => {
     expect(identity(2)).toBe(2);
   });

   // ä¸€èˆ¬åŒ–
   function identity(x: number): number {
     return x; // ä¸€èˆ¬çš„ãªå®Ÿè£…
   }
   ```

3. **æ˜ç™½ãªå®Ÿè£…ï¼ˆObvious Implementationï¼‰**
   - å®Ÿè£…æ–¹æ³•ãŒæ˜ã‚‰ã‹ãªå ´åˆã¯ç›´æ¥å®Ÿè£…
   - ãŸã ã—ã€ç¢ºä¿¡ãŒæŒã¦ãªã„å ´åˆã¯ä»®å®Ÿè£…ã‹ã‚‰é–‹å§‹

### å°ã•ãªã‚¹ãƒ†ãƒƒãƒ—ã§ã®é€²è¡Œ

- **1 ã¤ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ãšã¤**å®Ÿè£…ã™ã‚‹
- **1 ã¤ã® assert æ–‡**ã‹ã‚‰å§‹ã‚ã‚‹
- **æœ€å°é™ã®å¤‰æ›´**ã§ãƒ†ã‚¹ãƒˆã‚’é€šã™
- **å¤§ããªæ©Ÿèƒ½ã‚’å°ã•ãªå˜ä½**ã«åˆ†å‰²ã™ã‚‹

## ğŸ§ª ãƒ†ã‚¹ãƒˆä½œæˆã®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

### ãƒ†ã‚¹ãƒˆã®æ§‹é€ ï¼ˆAAA ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼‰

```typescript
describe("AuthService", () => {
  it("should authenticate user with valid credentials", () => {
    // Arrangeï¼ˆæº–å‚™ï¼‰
    const service = new AuthService();
    const credentials = { username: "test", password: "password" };

    // Actï¼ˆå®Ÿè¡Œï¼‰
    const result = service.authenticate(credentials);

    // Assertï¼ˆæ¤œè¨¼ï¼‰
    expect(result.isAuthenticated).toBe(true);
  });
});
```

### ãƒ†ã‚¹ãƒˆåã®ä»˜ã‘æ–¹

- **should + æœŸå¾…ã™ã‚‹å‹•ä½œ**ã®å½¢å¼
- **å…·ä½“çš„ã§æ˜ç¢º**ãªè¡¨ç¾
- **ãƒ“ã‚¸ãƒã‚¹çš„ãªæ„å‘³**ã‚’å«ã‚ã‚‹

```typescript
// âŒ æ‚ªã„ä¾‹
it("test login", () => {});

// âœ… è‰¯ã„ä¾‹
it("should return authenticated user when valid credentials are provided", () => {});
it("should throw error when password is incorrect", () => {});
```

### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®å„ªå…ˆé †ä½

1. **æ­£å¸¸ç³»ï¼ˆHappy Pathï¼‰**ã‹ã‚‰å§‹ã‚ã‚‹
2. **å¢ƒç•Œå€¤**ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹
3. **ç•°å¸¸ç³»**ã‚’è¿½åŠ ã™ã‚‹
4. **ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹**ã‚’ç¶²ç¾…ã™ã‚‹

## ğŸ—ï¸ Angular + TypeScript ã§ã® TDD å®Ÿè·µ

### 1. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã® TDD

```typescript
// 1. Red: å¤±æ•—ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’æ›¸ã
describe("ChatComponent", () => {
  it("should render message input field", () => {
    const fixture = TestBed.createComponent(ChatComponent);
    const compiled = fixture.nativeElement;

    expect(compiled.querySelector('input[type="text"]')).toBeTruthy();
  });
});

// 2. Green: æœ€å°é™ã®å®Ÿè£…
@Component({
  template: `<input type="text" />`,
})
export class ChatComponent {}

// 3. Refactor: æ”¹å–„
@Component({
  template: `
    <input
      type="text"
      [value]="message()"
      (input)="updateMessage($event)"
      placeholder="ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…¥åŠ›..."
    />
  `,
})
export class ChatComponent {
  message = signal("");

  updateMessage(event: Event) {
    const target = event.target as HTMLInputElement;
    this.message.set(target.value);
  }
}
```

### 2. ã‚µãƒ¼ãƒ“ã‚¹ã® TDD

```typescript
// 1. Red: å¤±æ•—ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’æ›¸ã
describe("AuthService", () => {
  it("should return profile list from AWS CLI config", async () => {
    const service = new AuthService();

    const profiles = await service.getProfiles();

    expect(profiles).toBeInstanceOf(Array);
    expect(profiles.length).toBeGreaterThan(0);
  });
});

// 2. Green: æœ€å°é™ã®å®Ÿè£…
@Injectable({ providedIn: "root" })
export class AuthService {
  async getProfiles(): Promise<AwsProfile[]> {
    return []; // ä»®å®Ÿè£…
  }
}

// 3. Refactor: å®Ÿéš›ã®å®Ÿè£…
@Injectable({ providedIn: "root" })
export class AuthService {
  async getProfiles(): Promise<AwsProfile[]> {
    return await invoke("get_aws_profiles");
  }
}
```

## ğŸ”§ Tauri ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆRustï¼‰ã§ã® TDD

### 1. é–¢æ•°ã® TDD

```rust
// 1. Red: å¤±æ•—ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’æ›¸ã
#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn should_parse_aws_config_file() {
        let config_content = "[profile test]\nregion = us-east-1";

        let profiles = parse_aws_config(config_content).unwrap();

        assert_eq!(profiles.len(), 1);
        assert_eq!(profiles[0].name, "test");
        assert_eq!(profiles[0].region, "us-east-1");
    }
}

// 2. Green: æœ€å°é™ã®å®Ÿè£…
pub fn parse_aws_config(content: &str) -> Result<Vec<AwsProfile>, Error> {
    Ok(vec![AwsProfile {
        name: "test".to_string(),
        region: "us-east-1".to_string(),
    }])
}

// 3. Refactor: å®Ÿéš›ã®ãƒ‘ãƒ¼ã‚µãƒ¼å®Ÿè£…
pub fn parse_aws_config(content: &str) -> Result<Vec<AwsProfile>, Error> {
    // å®Ÿéš›ã®INIãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ãƒ¼ã‚µãƒ¼å®Ÿè£…
}
```

## ğŸ“‹ TDD å®Ÿè·µãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### é–‹ç™ºå‰ã®æº–å‚™

- [ ] **ãƒ†ã‚¹ãƒˆç’°å¢ƒ**ãŒæ•´ã£ã¦ã„ã‚‹
- [ ] **ãƒ†ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼**ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹
- [ ] **ãƒ¢ãƒƒã‚¯ãƒ©ã‚¤ãƒ–ãƒ©ãƒª**ãŒåˆ©ç”¨å¯èƒ½

### Red ãƒ•ã‚§ãƒ¼ã‚º

- [ ] **å¤±æ•—ã™ã‚‹ãƒ†ã‚¹ãƒˆ**ã‚’æ›¸ã„ãŸ
- [ ] **æœŸå¾…ã•ã‚Œã‚‹å¤±æ•—ç†ç”±**ã‚’ç¢ºèªã—ãŸ
- [ ] **ãƒ†ã‚¹ãƒˆå**ãŒæ˜ç¢ºã§åˆ†ã‹ã‚Šã‚„ã™ã„
- [ ] **1 ã¤ã®ã‚±ãƒ¼ã‚¹**ã«é›†ä¸­ã—ã¦ã„ã‚‹

### Green ãƒ•ã‚§ãƒ¼ã‚º

- [ ] **æœ€å°é™ã®å®Ÿè£…**ã§ãƒ†ã‚¹ãƒˆã‚’é€šã—ãŸ
- [ ] **ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰**ã‚„ä»®å®Ÿè£…ã‚’ä½¿ã£ãŸ
- [ ] **ãƒ†ã‚¹ãƒˆãŒé€šã‚‹**ã“ã¨ã‚’ç¢ºèªã—ãŸ
- [ ] **ä»–ã®ãƒ†ã‚¹ãƒˆãŒå£Šã‚Œã¦ã„ãªã„**

### Refactor ãƒ•ã‚§ãƒ¼ã‚º

- [ ] **é‡è¤‡ã‚³ãƒ¼ãƒ‰**ã‚’æ’é™¤ã—ãŸ
- [ ] **æ„å›³ãŒæ˜ç¢º**ãªã‚³ãƒ¼ãƒ‰ã«ã—ãŸ
- [ ] **ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆ**ãŒé€šã‚‹
- [ ] **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**ã‚’è€ƒæ…®ã—ãŸ

## ğŸš« TDD ã§ã‚„ã£ã¦ã¯ã„ã‘ãªã„ã“ã¨

### Red ãƒ•ã‚§ãƒ¼ã‚ºã§ã®ç¦æ­¢äº‹é …

- âŒ è¤‡æ•°ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’ä¸€åº¦ã«æ›¸ã
- âŒ å®Ÿè£…ã‚³ãƒ¼ãƒ‰ã‚’å…ˆã«æ›¸ã
- âŒ æ›–æ˜§ãªãƒ†ã‚¹ãƒˆåã‚’ä»˜ã‘ã‚‹

### Green ãƒ•ã‚§ãƒ¼ã‚ºã§ã®ç¦æ­¢äº‹é …

- âŒ å®Œç’§ãªã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã“ã†ã¨ã™ã‚‹
- âŒ ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã‚’åŒæ™‚ã«è¡Œã†
- âŒ å°†æ¥ã®æ©Ÿèƒ½ã‚’å…ˆå–ã‚Šã—ã¦å®Ÿè£…ã™ã‚‹

### Refactor ãƒ•ã‚§ãƒ¼ã‚ºã§ã®ç¦æ­¢äº‹é …

- âŒ ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã—ã¦ã„ã‚‹çŠ¶æ…‹ã§ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
- âŒ æ©Ÿèƒ½è¿½åŠ ã¨ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã‚’åŒæ™‚ã«è¡Œã†
- âŒ ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã‚’æ€ ã‚‹

## ğŸ¯ å“è³ªã®é«˜ã„ãƒ†ã‚¹ãƒˆã®ç‰¹å¾´

### FIRST åŸå‰‡

- **F**ast: é«˜é€Ÿã«å®Ÿè¡Œã•ã‚Œã‚‹
- **I**ndependent: ç‹¬ç«‹ã—ã¦ã„ã‚‹ï¼ˆä»–ã®ãƒ†ã‚¹ãƒˆã«ä¾å­˜ã—ãªã„ï¼‰
- **R**epeatable: ç¹°ã‚Šè¿”ã—å®Ÿè¡Œå¯èƒ½
- **S**elf-validating: è‡ªå·±å®Œçµçš„ã«æ¤œè¨¼
- **T**imely: ã‚¿ã‚¤ãƒ ãƒªãƒ¼ã«æ›¸ã‹ã‚Œã‚‹ï¼ˆå®Ÿè£…å‰ï¼‰

### ãƒ†ã‚¹ãƒˆã®å¯èª­æ€§

```typescript
// âŒ æ‚ªã„ä¾‹
it("test1", () => {
  const x = new AuthService();
  const y = x.auth({ u: "test", p: "pass" });
  expect(y.ok).toBe(true);
});

// âœ… è‰¯ã„ä¾‹
it("should authenticate user when valid credentials provided", () => {
  // Arrange
  const authService = new AuthService();
  const validCredentials = {
    username: "testuser",
    password: "validpassword",
  };

  // Act
  const result = authService.authenticate(validCredentials);

  // Assert
  expect(result.isAuthenticated).toBe(true);
  expect(result.user.username).toBe("testuser");
});
```

## ğŸ“š å‚è€ƒè³‡æ–™

- [ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™º](https://www.ohmsha.co.jp/book/9784274050886/) - Kent Beck è‘—
- [Growing Object-Oriented Software, Guided by Tests](http://www.growing-object-oriented-software.com/)
- [å’Œç”°å“äººã•ã‚“ã® TDD å‹•ç”»ãƒ»è¨˜äº‹](https://t-wada.hatenablog.jp/)

---

**Remember**: TDD ã¯å˜ãªã‚‹ãƒ†ã‚¹ãƒˆæ‰‹æ³•ã§ã¯ãªãã€**è¨­è¨ˆæ‰‹æ³•**ã§ã™ã€‚å°ã•ãªã‚¹ãƒ†ãƒƒãƒ—ã§é€²ã¿ã€å¸¸ã«ãƒ†ã‚¹ãƒˆãŒé€šã‚‹çŠ¶æ…‹ã‚’ç¶­æŒã™ã‚‹ã“ã¨ã§ã€å®‰å…¨ã§ç¢ºå®Ÿãªé–‹ç™ºãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚
